<!doctype html>
<html>
<head>
        <!-- [[! Document Settings ]] -->
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">

        <!-- [[! Page Meta ]] -->
        <title>@okmanideep</title>
<meta name="description" content="Android · Web · Design">
<meta name="HandheldFriendly" content="True">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="shortcut icon" type="image/svg+xml" href="/img/favicon.svg">
<link rel="shortcut icon" type="image/png" href="/img/favicon.png">
<link rel="alternate" type="application/json" name="@okmanideep" href="/feed.json">
<link rel="alternate" type="application/feed+json" name="@okmanideep" href="/feed.json">
<link rel="alternate" type="application/rss+xml" name="@okmanideep" href="/feed.xml">


        <!-- [[! Ghost outputs important style and meta data with this tag ]] -->
        <link rel="canonical" href="/">
<meta name="referrer" content="origin">
<meta name="author" content="https://twitter.com/okmanideep">

<meta property="og:site_name" content="@okmanideep">
<meta property="og:type" content="website">
<meta property="og:title" content="@okmanideep">
<meta property="og:description" content="Android · Web · Design">
<meta property="og:url" content="https://okmanideep.me/permissions-in-marshmallow/">
<meta property="og:image" content="https://okmanideep.me/img/logo-black-on-white-square.jpg">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="https://facebook.com/okmanideep">

<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="@okmanideep">
<meta name="twitter:description" content="Android · Web · Design">
<meta name="twitter:image" content="https://okmanideep.me/img/logo-black-on-white-square.jpg">
<meta name="twitter:author" content="@okmanideep">


<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Website",
    "publisher": "Manideep Polireddi",
    "url": "https://okmanideep.github.io",
    "image": "/img/logo-black.png",
    "description": "Android · Web · Design"
}
</script>

<meta name="generator" content="11ty">


        <!-- [[! Styles ]] -->
        



        <style>a.tag {
	text-transform: capitalize;
}
.post-meta {
  color: var(--dim-text-color);
  font-size: 0.9em;
}

.post-meta a {
  text-decoration: none;
	pointer-events: auto;
}

.post-meta a:hover {
  text-decoration: underline;
}
/* Source: https://fonts.googleapis.com/css2?family=Barlow:ital,wght@0,400;0,700;1,400;1,700&family=JetBrains+Mono:ital@0;1&family=Rubik:ital,wght@0,600;1,600&display=swap */

/* vietnamese */
@font-face {
  font-family: 'Barlow';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/barlow/v12/7cHrv4kjgoGqM7E_Cfs0wH8RnA.woff2) format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+1EA0-1EF9, U+20AB;
}
/* latin-ext */
@font-face {
  font-family: 'Barlow';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/barlow/v12/7cHrv4kjgoGqM7E_Cfs1wH8RnA.woff2) format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
/* latin */
@font-face {
  font-family: 'Barlow';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/barlow/v12/7cHrv4kjgoGqM7E_Cfs7wH8.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
/* vietnamese */
@font-face {
  font-family: 'Barlow';
  font-style: italic;
  font-weight: 700;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/barlow/v12/7cHsv4kjgoGqM7E_CfOA5WohvTobdw.woff2) format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+1EA0-1EF9, U+20AB;
}
/* latin-ext */
@font-face {
  font-family: 'Barlow';
  font-style: italic;
  font-weight: 700;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/barlow/v12/7cHsv4kjgoGqM7E_CfOA5WogvTobdw.woff2) format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
/* latin */
@font-face {
  font-family: 'Barlow';
  font-style: italic;
  font-weight: 700;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/barlow/v12/7cHsv4kjgoGqM7E_CfOA5WouvTo.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
/* vietnamese */
@font-face {
  font-family: 'Barlow';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/barlow/v12/7cHpv4kjgoGqM7E_A8s52Hs.woff2) format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+1EA0-1EF9, U+20AB;
}
/* latin-ext */
@font-face {
  font-family: 'Barlow';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/barlow/v12/7cHpv4kjgoGqM7E_Ass52Hs.woff2) format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
/* latin */
@font-face {
  font-family: 'Barlow';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/barlow/v12/7cHpv4kjgoGqM7E_DMs5.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
/* vietnamese */
@font-face {
  font-family: 'Barlow';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/barlow/v12/7cHqv4kjgoGqM7E3t-4s6FospT4.woff2) format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+1EA0-1EF9, U+20AB;
}
/* latin-ext */
@font-face {
  font-family: 'Barlow';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/barlow/v12/7cHqv4kjgoGqM7E3t-4s6VospT4.woff2) format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
/* latin */
@font-face {
  font-family: 'Barlow';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/barlow/v12/7cHqv4kjgoGqM7E3t-4s51os.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
/* cyrillic-ext */
@font-face {
  font-family: 'JetBrains Mono';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/jetbrainsmono/v13/tDba2o-flEEny0FZhsfKu5WU4xD-IQ-PuZJJXxfpAO-LfmOamaKjhw.woff2) format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
/* cyrillic */
@font-face {
  font-family: 'JetBrains Mono';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/jetbrainsmono/v13/tDba2o-flEEny0FZhsfKu5WU4xD-IQ-PuZJJXxfpAO-LfmOTmaKjhw.woff2) format('woff2');
  unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
/* greek */
@font-face {
  font-family: 'JetBrains Mono';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/jetbrainsmono/v13/tDba2o-flEEny0FZhsfKu5WU4xD-IQ-PuZJJXxfpAO-LfmOUmaKjhw.woff2) format('woff2');
  unicode-range: U+0370-03FF;
}
/* vietnamese */
@font-face {
  font-family: 'JetBrains Mono';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/jetbrainsmono/v13/tDba2o-flEEny0FZhsfKu5WU4xD-IQ-PuZJJXxfpAO-LfmOYmaKjhw.woff2) format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+1EA0-1EF9, U+20AB;
}
/* latin-ext */
@font-face {
  font-family: 'JetBrains Mono';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/jetbrainsmono/v13/tDba2o-flEEny0FZhsfKu5WU4xD-IQ-PuZJJXxfpAO-LfmOZmaKjhw.woff2) format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
/* latin */
@font-face {
  font-family: 'JetBrains Mono';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/jetbrainsmono/v13/tDba2o-flEEny0FZhsfKu5WU4xD-IQ-PuZJJXxfpAO-LfmOXmaI.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
/* cyrillic-ext */
@font-face {
  font-family: 'JetBrains Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/jetbrainsmono/v13/tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKxTN1OVgaY.woff2) format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
/* cyrillic */
@font-face {
  font-family: 'JetBrains Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/jetbrainsmono/v13/tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKxTPlOVgaY.woff2) format('woff2');
  unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
/* greek */
@font-face {
  font-family: 'JetBrains Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/jetbrainsmono/v13/tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKxTOVOVgaY.woff2) format('woff2');
  unicode-range: U+0370-03FF;
}
/* vietnamese */
@font-face {
  font-family: 'JetBrains Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/jetbrainsmono/v13/tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKxTNVOVgaY.woff2) format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+1EA0-1EF9, U+20AB;
}
/* latin-ext */
@font-face {
  font-family: 'JetBrains Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/jetbrainsmono/v13/tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKxTNFOVgaY.woff2) format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
/* latin */
@font-face {
  font-family: 'JetBrains Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/jetbrainsmono/v13/tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKxTOlOV.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
/* cyrillic-ext */
@font-face {
  font-family: 'Rubik';
  font-style: italic;
  font-weight: 600;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/rubik/v21/iJWbBXyIfDnIV7nEt3KSJbVDV49rz8uDFHU6f4L1kA.woff2) format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
/* cyrillic */
@font-face {
  font-family: 'Rubik';
  font-style: italic;
  font-weight: 600;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/rubik/v21/iJWbBXyIfDnIV7nEt3KSJbVDV49rz8uDFHUzf4L1kA.woff2) format('woff2');
  unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
/* hebrew */
@font-face {
  font-family: 'Rubik';
  font-style: italic;
  font-weight: 600;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/rubik/v21/iJWbBXyIfDnIV7nEt3KSJbVDV49rz8uDFHU1f4L1kA.woff2) format('woff2');
  unicode-range: U+0590-05FF, U+200C-2010, U+20AA, U+25CC, U+FB1D-FB4F;
}
/* latin-ext */
@font-face {
  font-family: 'Rubik';
  font-style: italic;
  font-weight: 600;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/rubik/v21/iJWbBXyIfDnIV7nEt3KSJbVDV49rz8uDFHU5f4L1kA.woff2) format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
/* latin */
@font-face {
  font-family: 'Rubik';
  font-style: italic;
  font-weight: 600;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/rubik/v21/iJWbBXyIfDnIV7nEt3KSJbVDV49rz8uDFHU3f4I.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
/* cyrillic-ext */
@font-face {
  font-family: 'Rubik';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/rubik/v21/iJWZBXyIfDnIV5PNhY1KTN7Z-Yh-2Y-FWkU1Z4Y.woff2) format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
/* cyrillic */
@font-face {
  font-family: 'Rubik';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/rubik/v21/iJWZBXyIfDnIV5PNhY1KTN7Z-Yh-2Y-FU0U1Z4Y.woff2) format('woff2');
  unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
/* hebrew */
@font-face {
  font-family: 'Rubik';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/rubik/v21/iJWZBXyIfDnIV5PNhY1KTN7Z-Yh-2Y-FVUU1Z4Y.woff2) format('woff2');
  unicode-range: U+0590-05FF, U+200C-2010, U+20AA, U+25CC, U+FB1D-FB4F;
}
/* latin-ext */
@font-face {
  font-family: 'Rubik';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/rubik/v21/iJWZBXyIfDnIV5PNhY1KTN7Z-Yh-2Y-FWUU1Z4Y.woff2) format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
/* latin */
@font-face {
  font-family: 'Rubik';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/rubik/v21/iJWZBXyIfDnIV5PNhY1KTN7Z-Yh-2Y-FV0U1.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
/* http://meyerweb.com/eric/tools/css/reset/ 
v2.0 | 20110126
License: none (public domain)
*/

html, body, div, span, applet, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
a, abbr, acronym, address, big, cite, code,
del, dfn, em, img, ins, kbd, q, s, samp,
small, strike, strong, sub, sup, tt, var,
b, u, i, center,
dl, dt, dd, ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td,
article, aside, canvas, details, embed, 
figure, figcaption, footer, header, hgroup, 
menu, nav, output, ruby, section, summary,
time, mark, audio, video {
  margin: 0;
  padding: 0;
  border: 0;
  font-size: 100%;
  font: inherit;
  vertical-align: baseline;
}
/* HTML5 display-role reset for older browsers */
article, aside, details, figcaption, figure, 
footer, header, hgroup, menu, nav, section {
  display: block;
}
body {
  line-height: 1;
}
blockquote, q {
  quotes: none;
}
blockquote:before, blockquote:after,
q:before, q:after {
  content: '';
  content: none;
}
table {
  border-collapse: collapse;
  border-spacing: 0;
}

/* END reset.css */

/* THEME VARS */
:root {
  --main-bg-color: #22262c;
  --main-text-color: #ffffff;
  --heading-text-color: #f7f7f7;
  --main-border-color: #333333;
  --highlight-text-color: #61aeee;
  --highlight-border-color: #218EE8;
  --raised-bg-color: #282c34;
  --dim-text-color: #9eabb3;
  --edge-margin: 1.5rem;
}

/* MAIN CSS */
body {
  background-color: var(--main-bg-color);
  color: var(--main-text-color);
  font-family: 'Barlow', sans-serif;
}

main {
  width: calc(100% - 2*var(--edge-margin));
  margin: auto;
  font-size: 1rem;
}

@media only screen and (min-width: 960px) {
  main {
    width: calc(960px - 2*var(--edge-margin));
    font-size: 1.2rem;
  }
}

main.full-width {
	width: 100%;
	max-width: 960px;
}

.padded-width {
  width: calc(100% - 2*var(--edge-margin));
  margin: auto;
}

@media only screen and (min-width: 960px) {
  .padded-width {
    width: calc(960px - 2*var(--edge-margin));
  }
}

h1,h2,h3,h4,h5,h6 {
  font-family: 'Rubik', sans-serif;
  font-weight: 600;
  line-height: 1.2em;
  color: var(--heading-text-color);
}

h1 {
  font-size: 2.0em;
  margin: 0.4em 0 0.4em 0;
  padding-bottom: 0.65em;
  border-bottom: 1px solid var(--main-border-color);
}

@media only screen and (min-width: 960px) {
  h1 {
	  margin: 2em 0 0.4em 0;
  }
}

h2 {
  font-size: 1.8em;
  margin: 1.6em 0 0.8em 0;
}

h3 {
  font-size: 1.6em;
  margin: 1em 0 0.5em 0;
}

h4 {
  font-size: 1.4em;
  margin: 1em 0 0.5em 0;
}

h5 {
  font-size: 1.2em;
  margin: 0.8em 0 0.4em 0;
}

h6 {
  font-size: 1.1em;
  margin-top: 0.8em 0 0.4em 0;
}

p {
  margin: 1em 0 0.5em 0;
}

a {
  color: var(--highlight-text-color);
}

blockquote {
  margin: 18px 0px;
  background: var(--raised-bg-color);
  border-left: 4px solid var(--highlight-border-color);
}

blockquote>p {
  padding: 0.6em 1em;
}

p, li {
  line-height: 1.5em;
  font-size: 1.1em;
}

table {
  padding: 0; 
  border-collapse: collapse;
}
table tr {
  border-top: 1px solid var(--main-border-color);
  background-color: var(--main-bg-color);
  margin: 0;
  padding: 0; 
}
table thead tr {
  background-color: var(--raised-bg-color); 
}
table tr:nth-child(2n) {
  background-color: var(--raised-bg-color); 
}
table tr th {
  font-weight: bold;
  border: 1px solid var(--main-border-color);
  text-align: left;
  margin: 0;
  padding: 0.6em 1em; 
}
table tr td {
  border: 1px solid var(--main-border-color);
  text-align: left;
  margin: 0;
  padding: 0.6em 1em; 
}
table tr th :first-child, table tr td :first-child {
  margin-top: 0; 
}
table tr th :last-child, table tr td :last-child {
  margin-bottom: 0; 
}

ul,ol {
  margin-bottom: 1em;
  margin-top: 0.4em;
  padding-inline-start: 1.2em;
}

header {
	padding: 2em var(--edge-margin);
	margin: 0;
}

media only screen and (min-width: 960px) {
	header {
		margin: 0 0 1em 0;
	}
}

header > nav {
  display: flex;
  justify-content: space-between;
  align-content: center;
  align-items: center;
}

header > nav > a {
  display: block;
}

header > nav > a > img {
  height: 2em;
}

header > nav > a > svg {
  height: 1.4em;
  fill: var(--main-text-color);
}

header > nav > a:hover > svg {
  fill: var(--highlight-text-color);
  transition: fill 0.3s ease;
}

footer {
  margin: 3em 1em 1em 1em;
  display: flex;
  justify-content: space-between;
  color: var(--dim-text-color);
  font-size: 1.2em;
}

footer a {
  font-weight: bold;
  color: var(--dim-text-color);
  text-decoration: none;
  transition: color 0.2s ease;
}

footer a:hover {
  color: var(--main-text-color);
}

img {
  max-width: 100%;
  margin: 8px auto;
}
/**
* Edited from atom-dark theme for `prism.js`
* Based on Atom's `atom-dark` theme: https://github.com/atom/atom-dark-syntax
* @author Joe Gibson (@gibsjose)
*/

code,
pre {
	--onedark-bg: #282C34;
	--onedark-red: #E06C75;
	--onedark-red-bg: #2E2A2E;
	--onedark-green: #98C379;
	--onedark-green-bg: #27332d;
	--onedark-yellow: #E5C07B;
	--onedark-blue: #61AFEF;
	--onedark-purple: #C678DD;
	--onedark-teal: #56B6C2;
	--onedark-gray: #ABB2BF;

	color: var(--onedark-gray);
	text-shadow: 0 1px rgba(0, 0, 0, 0.3);
	font-family: 'JetBrains Mono', monospace;
	direction: ltr;
	text-align: left;
	white-space: pre;
	word-spacing: normal;
	word-break: normal;
	line-height: 1.5;

	-moz-tab-size: 4;
	-o-tab-size: 4;
	tab-size: 4;

	-webkit-hyphens: none;
	-moz-hyphens: none;
	-ms-hyphens: none;
	hyphens: none;
}

/* Code blocks */
pre {
  padding: 0.6em;
  border-radius: 4px;
  margin-bottom: 1em;
  margin-top: 0.4em;
  overflow-x: auto;
}

:not(pre) > code,
pre {
	font-size: 0.9em;
	background: var(--onedark-bg);
}

:not(pre) > code {
  padding: 2px 4px;
  color: var(--onedark-blue);
  background: var(--onedark-bg);
  border-radius: 3px;
}

.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
	color: #7C7C7C;
}

.token.punctuation {
	color: var(--onedark-gray);
}

.namespace {
	opacity: .7;
}

.token.property,
.token.keyword,
.token.tag {
	color: var(--onedark-blue);
}

.token.class-name {
	color: var(--onedark-yellow);
	text-decoration: underline;
}

.token.boolean,
.token.constant {
	color: var(--onedark-green);
}

.token.symbol,
.token.prefix.deleted {
	color: var(--onedark-red);
}

.token.number {
	color: var(--onedark-purple);
}

.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.builtin,
.token.prefix.inserted {
	color: var(--onedark-green);
}

.token.variable {
	color: var(--onedark-blue);
}

.token.operator {
	color: #EDEDED;
}

.token.entity {
	color: var(--onedark-yellow);
	cursor: help;
}

.token.url {
	color: var(--onedark-blue);
}

.language-css .token.string,
.style .token.string {
	color: var(--onedark-green);
}

.token.atrule,
.token.attr-value {
	color: var(--onedark-yellow);
}

.token.function {
	color: var(--onedark-purple);
}

.token.regex {
	color: var(--onedark-yellow);
}

.token.important {
	color: var(--onedark-yellow);
}

.token.important,
.token.bold {
	font-weight: bold;
}

.token.italic {
	font-style: italic;
}

/* diff-* code blocks support */
.token.deleted {
  background-color: var(--onedark-red-bg);
}
.token.inserted {
  background-color: var(--onedark-green-bg);
}

/* Make the + and - characters unselectable for copy/paste */
.token.prefix.unchanged,
.token.prefix.inserted,
.token.prefix.deleted {
  -webkit-user-select: none;
  user-select: none;
}

/* Optional: full-width background color */
.token.inserted:not(.prefix),
.token.deleted:not(.prefix) {
  display: block;
}</style>
    </head>

    <body>
        <header>
  <nav>
    <a href="/"><img src="/img/logo-white.png" alt="okmanideep blog logo">
</a>
    <a href="/feed.json">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M25.57 176.1C12.41 175.4 .9117 185.2 .0523 198.4s9.173 24.65 22.39 25.5c120.1 7.875 225.7 112.7 233.6 233.6C256.9 470.3 267.4 480 279.1 480c.5313 0 1.062-.0313 1.594-.0625c13.22-.8438 23.25-12.28 22.39-25.5C294.6 310.3 169.7 185.4 25.57 176.1zM32 32C14.33 32 0 46.31 0 64s14.33 32 32 32c194.1 0 352 157.9 352 352c0 17.69 14.33 32 32 32s32-14.31 32-32C448 218.6 261.4 32 32 32zM63.1 351.9C28.63 351.9 0 380.6 0 416s28.63 64 63.1 64s64.08-28.62 64.08-64S99.37 351.9 63.1 351.9z"></path></svg>
    </a>
  </nav>
</header>


        <main role="main">
    <article>
        <h1>Migrating to Dart 3 and null safety</h1>
		<post-meta date="Fri May 12 2023 17:00:00 GMT+0000 (Coordinated Universal Time)" tags="flutter,dart"><div class="post-meta">
	<time datetime="Fri May 12 2023 17:00:00 GMT+0000 (Coordinated Universal Time)" class="post-date">Fri, May 12 2023</time>
	
on <a href="/tag/flutter" class="tag">flutter</a>, <a href="/tag/dart" class="tag">dart</a>

</div>

</post-meta>
        <section class="content"><p>Dart 3 🎯 is here! And it brings very useful features like <code>sealed</code> classes, pattern matching and <a href="https://www.youtube.com/watch?v=yRlwOdCK7Ho&amp;t=1766s">many more</a>.</p>
<p>It also <strong>ends the support for <code>--no-sound-null-safety</code></strong>.</p>
<p>Which means to adopt it in any codebase, every single file should be null safe.</p>
<p>Like us at <a href="https://github.com/praja">Praja</a>, if you have started writing your Flutter app more than a couple of years ago, you would have started slowly migrating your codebase to sound null safety. Some of you would have completed it. If you are one of them <a href="https://twitter.com/okmanideep">I would like to here about your experience</a> and learn what helped and what didn't.</p>
<p>If you are still going through this transition, I hope this helps you. Here's how we have approached it.</p>
<h3>Preread 📄</h3>
<p><a href="https://dart.dev/null-safety/migration-guide">Official Dart Guide for migrating to null safety</a></p>
<h3>1. Mark all your existing files as not null safe 🏁</h3>
<p>Skip this step if you have already done it.</p>
<ul>
<li>Upgrade dart to 2.12+</li>
<li>Add <code>// @dart = 2.9</code> to the starting of every dart file in your project and manually convert your <code>main.dart</code></li>
</ul>
<p>The following script can help you out here</p>
<pre class="language-ruby"><code class="language-ruby"><span class="token comment">#!/usr/bin/env ruby</span><br><br>directory <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"/lib"</span></span><br><br><span class="token comment"># Navigate to the directory</span><br><span class="token builtin">Dir</span><span class="token punctuation">.</span>chdir<span class="token punctuation">(</span>directory<span class="token punctuation">)</span><br><br><span class="token comment"># Loop through each .dart file in the directory</span><br><span class="token builtin">Dir</span><span class="token punctuation">.</span>glob<span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"**/*.dart"</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">each</span> <span class="token keyword">do</span> <span class="token operator">|</span>file<span class="token operator">|</span><br>  <span class="token comment"># Check if the file is a regular file</span><br>  <span class="token keyword">if</span> <span class="token builtin">File</span><span class="token punctuation">.</span>file<span class="token operator">?</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><br>    <span class="token comment"># Prepend "// @dart=2.9" to the file</span><br>    content <span class="token operator">=</span> <span class="token builtin">File</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span>file<span class="token punctuation">)</span><br>    <span class="token builtin">File</span><span class="token punctuation">.</span>open<span class="token punctuation">(</span>file<span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"w"</span></span><span class="token punctuation">)</span> <span class="token keyword">do</span> <span class="token operator">|</span>f<span class="token operator">|</span><br>      f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"// @dart=2.9\n</span><span class="token interpolation"><span class="token delimiter punctuation">#{</span><span class="token content">content</span><span class="token delimiter punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><br>    <span class="token keyword">end</span><br>    puts <span class="token string-literal"><span class="token string">"Added // @dart=2.9 to </span><span class="token interpolation"><span class="token delimiter punctuation">#{</span><span class="token content">file</span><span class="token delimiter punctuation">}</span></span><span class="token string">"</span></span><br>  <span class="token keyword">end</span><br><span class="token keyword">end</span></code></pre>
<p>With this you can start using <code>flutter run --no-sound-null-safety</code> and run your app as always</p>
<h3>2. Add a PR check as a nudge for your team ✅</h3>
<p>Since this doesn't immediately impact the product, it's not going to be worth it to migrate all the files as a single task / project. We want to do this gradually over a few months. For that, we'd like some regular nudges to everyone in the team to slowly convert files they are touching.</p>
<p>A PR check like this can help out in a big way</p>
<pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">name</span><span class="token punctuation">:</span> Dart Null Safety Validation<br><span class="token key atrule">on</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>pull_request<span class="token punctuation">]</span><br><br><span class="token key atrule">env</span><span class="token punctuation">:</span><br>  <span class="token key atrule">GITHUB_BASE_REF</span><span class="token punctuation">:</span> $<br>  <br><span class="token key atrule">jobs</span><span class="token punctuation">:</span><br>  <span class="token key atrule">validate</span><span class="token punctuation">:</span><br>    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest<br>    <span class="token key atrule">steps</span><span class="token punctuation">:</span><br>      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Checkout code<br>        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@v3<br>      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Validate Dart files<br>        <span class="token key atrule">shell</span><span class="token punctuation">:</span> bash<br>        <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string"><br>          # Fetch the base branch for diffing<br>          git fetch origin $GITHUB_BASE_REF:$GITHUB_BASE_REF</span><br><br>          n_files=$((grep <span class="token punctuation">-</span>r <span class="token punctuation">-</span>H <span class="token punctuation">-</span><span class="token punctuation">-</span>include \<span class="token important">*.dart</span> "// @dart = 2.9" $(git diff <span class="token punctuation">-</span><span class="token punctuation">-</span>name<span class="token punctuation">-</span>only $GITHUB_BASE_REF <span class="token punctuation">-</span><span class="token punctuation">-</span>diff<span class="token punctuation">-</span>filter=AMR) <span class="token punctuation">|</span><span class="token punctuation">|</span> true) <span class="token punctuation">|</span> wc <span class="token punctuation">-</span>l)<br><br>          if <span class="token punctuation">[</span> $n_files <span class="token punctuation">-</span>ne 0 <span class="token punctuation">]</span>; then<br>            echo "Dart Files that changed<span class="token punctuation">,</span> but still contain 2.9 dart version<span class="token punctuation">:</span>"<br>            grep <span class="token punctuation">-</span>r <span class="token punctuation">-</span>H <span class="token punctuation">-</span><span class="token punctuation">-</span>include \<span class="token important">*.dart</span> "// @dart = 2.9" $(git diff <span class="token punctuation">-</span><span class="token punctuation">-</span>name<span class="token punctuation">-</span>only $GITHUB_BASE_REF <span class="token punctuation">-</span><span class="token punctuation">-</span>diff<span class="token punctuation">-</span>filter=AMR)<br>            echo "\n"<br>            echo "Please convert the above files to project dart version"<br>            exit 1<br>          fi<br></code></pre>
<p>This validates that all <code>.dart</code> files added/modified in a PR are null safe.</p>
<p>Based on your team, you can choose to make this an optional or a required check. We chose to have it as optional and it worked out for us.</p>
<p>With just this, over a couple of months, we converted over half the codebase to null safety!</p>
<h3>3. Highlight low hanging fruits 🍎</h3>
<p>There are bound to be some files which are not touched at all and are lying there, which stop your from adopting full sound null safety. The PR check is not going to help here.</p>
<p>A small script that can tell you how many files are left to convert and what are few low hanging fruits helps quite a bit</p>
<img src="/img/null-safe-report-usage.png"/>
<pre class="language-ruby"><code class="language-ruby"><span class="token comment"># frozen_string_literal: true</span><br><br><span class="token comment"># Usage:</span><br><span class="token comment"># From the root of this project</span><br><span class="token comment"># $ ruby scripts/null_safe_report.rb ./lib</span><br><span class="token keyword">require</span> <span class="token string-literal"><span class="token string">'find'</span></span><br><br><span class="token comment"># This class is used to sort the files by line count</span><br><span class="token keyword">class</span> <span class="token class-name">FileToConvert</span><br>  <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">initialize</span></span><span class="token punctuation">(</span>file_name<span class="token punctuation">,</span> line_count<span class="token punctuation">)</span><br>    <span class="token variable">@file_name</span> <span class="token operator">=</span> file_name<br>    <span class="token variable">@line_count</span> <span class="token operator">=</span> line_count<br>  <span class="token keyword">end</span><br><br>  attr_reader <span class="token symbol">:line_count</span><br><br>  <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">to_s</span></span><br>    <span class="token string-literal"><span class="token string">"</span><span class="token interpolation"><span class="token delimiter punctuation">#{</span><span class="token content"><span class="token variable">@file_name</span></span><span class="token delimiter punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token delimiter punctuation">#{</span><span class="token content"><span class="token variable">@line_count</span></span><span class="token delimiter punctuation">}</span></span><span class="token string"> lines"</span></span><br>  <span class="token keyword">end</span><br><span class="token keyword">end</span><br><br>path <span class="token operator">=</span> <span class="token constant">ARGV</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><br><br>file_count <span class="token operator">=</span> <span class="token number">0</span><br>files_to_convert <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><br><span class="token builtin">Dir</span><span class="token punctuation">.</span>glob<span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"</span><span class="token interpolation"><span class="token delimiter punctuation">#{</span><span class="token content">path</span><span class="token delimiter punctuation">}</span></span><span class="token string">/**/*.dart"</span></span><span class="token punctuation">)</span> <span class="token keyword">do</span> <span class="token operator">|</span>file_name<span class="token operator">|</span><br>  file_count <span class="token operator">+=</span> <span class="token number">1</span><br>  first_line <span class="token operator">=</span> <span class="token builtin">File</span><span class="token punctuation">.</span>open<span class="token punctuation">(</span>file_name<span class="token punctuation">,</span> <span class="token operator">&amp;</span><span class="token symbol">:readline</span><span class="token punctuation">)</span><br>  is_non_null_safe <span class="token operator">=</span> first_line<span class="token punctuation">.</span>start_with<span class="token operator">?</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'// @dart = 2.9'</span></span><span class="token punctuation">)</span><br>  files_to_convert <span class="token operator">&lt;&lt;</span> <span class="token class-name">FileToConvert</span><span class="token punctuation">.</span><span class="token keyword">new</span><span class="token punctuation">(</span>file_name<span class="token punctuation">,</span> <span class="token builtin">File</span><span class="token punctuation">.</span>foreach<span class="token punctuation">(</span>file_name<span class="token punctuation">)</span><span class="token punctuation">.</span>count<span class="token punctuation">)</span> <span class="token keyword">if</span> is_non_null_safe<br><span class="token keyword">end</span><br><br>files_to_convert<span class="token punctuation">.</span>sort_by<span class="token operator">!</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token symbol">:line_count</span><span class="token punctuation">)</span><br><br>puts <span class="token string-literal"><span class="token string">"Null safe percent: </span><span class="token interpolation"><span class="token delimiter punctuation">#{</span><span class="token content"><span class="token punctuation">(</span><span class="token punctuation">(</span>file_count <span class="token operator">-</span> files_to_convert<span class="token punctuation">.</span>count<span class="token punctuation">)</span><span class="token punctuation">.</span>to_f <span class="token operator">/</span> file_count<span class="token punctuation">.</span>to_f <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">.</span>round<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span></span><span class="token delimiter punctuation">}</span></span><span class="token string">%"</span></span><br>puts <span class="token string-literal"><span class="token string">"Number of files left to convert: </span><span class="token interpolation"><span class="token delimiter punctuation">#{</span><span class="token content">files_to_convert<span class="token punctuation">.</span>count</span><span class="token delimiter punctuation">}</span></span><span class="token string">"</span></span><br>puts <span class="token string-literal"><span class="token string">''</span></span><br>puts <span class="token string-literal"><span class="token string">'10 Smallest files left to convert:'</span></span><br>files_to_convert<span class="token punctuation">[</span><span class="token number">0.</span><span class="token number">.9</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token keyword">each</span> <span class="token keyword">do</span> <span class="token operator">|</span>file<span class="token operator">|</span><br>  puts file<br><span class="token keyword">end</span></code></pre>
<h3>4. The final push 🥅</h3>
<p>You likely have a few huge files that no one wants to touch. Likely some God object definitions. There is no shortcut here. We have to approach it like some good old tech debt and buy some time to replace these.</p>
<p>We are yet to make this final push. Will update this article if we have any learnings.</p>
</section>
    </article>
</main>


        <footer>
            <section><a href="/">@okmanideep</a> © <template>2023</template></section>
            <section>Published with <a href="https://11ty.dev">11ty</a></section>
        </footer>
    

</body>
</html>